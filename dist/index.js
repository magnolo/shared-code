(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("shared-code", [], factory);
	else if(typeof exports === 'object')
		exports["shared-code"] = factory();
	else
		root["shared-code"] = factory();
})(typeof self !== 'undefined' ? self : this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/uuid/lib/bytesToUuid.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/bytesToUuid.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n//# sourceURL=webpack://shared-code/./node_modules/uuid/lib/bytesToUuid.js?");

/***/ }),

/***/ "./node_modules/uuid/lib/rng-browser.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/rng-browser.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n//# sourceURL=webpack://shared-code/./node_modules/uuid/lib/rng-browser.js?");

/***/ }),

/***/ "./node_modules/uuid/v4.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v4.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var rng = __webpack_require__(/*! ./lib/rng */ \"./node_modules/uuid/lib/rng-browser.js\");\nvar bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ \"./node_modules/uuid/lib/bytesToUuid.js\");\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n//# sourceURL=webpack://shared-code/./node_modules/uuid/v4.js?");

/***/ }),

/***/ "./src/config/environment.js":
/*!***********************************!*\
  !*** ./src/config/environment.js ***!
  \***********************************/
/*! exports provided: environment, updateEnv, setEnv, fetch, setFetch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"environment\", function() { return environment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateEnv\", function() { return updateEnv; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setEnv\", function() { return setEnv; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetch\", function() { return fetch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setFetch\", function() { return setFetch; });\nvar environment = {};\n\nvar fetch = function fetch() {};\n\nvar updateEnv = function updateEnv(env, processEnv) {\n  //console.log('>>> [updateEnv]', env)\n  // only update keys, not the original env reference\n  var _arr = Object.keys(processEnv);\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var key = _arr[_i];\n    env[key] = processEnv[key];\n  } //console.log('<<< [updateEnv]', env)\n\n};\n\nvar setEnv = function setEnv(env) {\n  environment = env;\n};\n\nvar setFetch = function setFetch(fetchFn) {\n  fetch = fetchFn;\n};\n\n\n\n//# sourceURL=webpack://shared-code/./src/config/environment.js?");

/***/ }),

/***/ "./src/config/permissions.js":
/*!***********************************!*\
  !*** ./src/config/permissions.js ***!
  \***********************************/
/*! exports provided: PERMISSIONS, ANON_USER */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PERMISSIONS\", function() { return PERMISSIONS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ANON_USER\", function() { return ANON_USER; });\n/**\n * Everything a user can do is done via a permission\n * Permission naming conventions\n * IDENTIFIER + ACTION\n * IDENTIFIER = {(COMPONENT||PAGE||CONTROLLER)}\n * concat with _\n * COMPONENT||PAGE -> look at angular structure\n * ACTION:\n *    VIEW -> SEEING STUFF\n *    EDIT -> CREATE UPDATE DELETE\n *    ADMIN -> CHANGE SYSTEM BEHAVIOUR\n *    CHOOSE -> ..\n *    SAVE -> ...\n */\nvar PERMISSIONS = {\n  \"PLATFORM_VIEW\": \"PLATFORM_VIEW\",\n  \"LOGOUT_VIEW\": \"LOGOUT_VIEW\",\n  \"GARBAGE_VIEW\": \"GARBAGE_VIEW\",\n  \"PROFILE_VIEW\": \"PROFILE_VIEW\",\n  \"MYREPORTS_VIEW\": \"MYREPORTS_VIEW\",\n  \"SHAREDWITHME_VIEW\": \"SHAREDWITHME_VIEW\",\n  \"COLLECTIONS_VIEW\": \"COLLECTIONS_VIEW\",\n  \"SIGNUP_VIEW\": \"SIGNUP_VIEW\",\n  \"PAYMENT_VIEW\": \"PAYMENT_VIEW\",\n  \"NOTIFICATION_VIEW\": \"NOTIFICATION_VIEW\",\n  \"CREATOR_VIEW\": \"CREATOR_VIEW\",\n  //is the plus shown in the header\n  \"COLLECTION_CREATE\": \"COLLECTION_CREATE\",\n  \"ATLAS_CREATE\": \"ATLAS_CREATE\",\n  \"REPORT_CREATE\": \"REPORT_CREATE\",\n  \"DATA_CREATE\": \"DATA_CREATE\",\n  \"CONTENT_SAVE\": \"CONTENT_SAVE\",\n  \"CONTENT_DOWNLOAD_SVG\": \"CONTENT_DOWNLOAD_SVG\",\n  \"CONTENT_DOWNLOAD_GEOJSON\": \"CONTENT_DOWNLOAD_GEOJSON\",\n  \"CONTENT_DOWNLOAD_PNG\": \"CONTENT_DOWNLOAD_PNG\",\n  \"CONTENT_DOWNLOAD_CSV\": \"CONTENT_DOWNLOAD_CSV\",\n  \"TEMPLATES_VIEW\": \"TEMPLATES_VIEW\",\n  \"TEMPLATES_EDIT\": \"TEMPLATES_EDIT\",\n  \"LAYOUT_VIEW\": \"LAYOUT_VIEW\",\n  \"LAYOUT_EDIT\": \"LAYOUT_EDIT\",\n  \"MAP_LAYER_VIEW\": \"MAP_LAYER_VIEW\",\n  \"MAP_LAYER_EDIT\": \"MAP_LAYER_EDIT\",\n  \"ADVANCED_TOOLTIP_ADDIMAGESFROMDATA\": \"ADVANCED_TOOLTIP_ADDIMAGESFROMDATA\",\n  \"ADVANCED_TOOLTIP_ADDLINKSFROMDATA\": \"ADVANCED_TOOLTIP_ADDLINKSFROMDATA\",\n  \"DESCRIPTION_ADDVALUEFROMDATA\": \"DESCRIPTION_ADDVALUEFROMDATA\",\n  \"COLOREDITOR_VIEW\": \"COLOREDITOR_VIEW\",\n  \"COLOREDITOR_EDIT\": \"COLOREDITOR_EDIT\",\n  \"SMARTFUNCTIONS_VIEW\": \"SMARTFUNCTIONS_VIEW\",\n  \"CONTENT_PRIVATE\": \"CONTENT_PRIVATE\",\n  \"CONTENT_LINKSHARE\": \"CONTENT_LINKSHARE\",\n  \"LOGO_UPLOAD\": \"LOGO_UPLOAD\",\n  \"LOGO_EDIT\": \"LOGO_EDIT\",\n  \"USERMANAGEMENT_VIEW\": \"USERMANAGEMENT_VIEW\",\n  \"USERMANAGEMENT_EDIT\": \"USERMANAGEMENT_EDIT\",\n  \"TAGMANAGEMENT_VIEW\": \"TAGMANAGEMENT_VIEW\",\n  \"TAGMANAGEMENT_EDIT\": \"TAGMANAGEMENT_EDIT\",\n  \"TAG_VIEW\": \"TAG_VIEW\"\n  /*\n  const PERMISSIONSBACKUP = {\n    \"TEST\": \"TEST\",\n    \"COLOREDITOR\": \"COLOREDITOR\",\n    \"NOTIFICATION_BELL\": \"NOTIFICATION_BELL\",\n    \"LOGOUT\":\"LOGOUT\",\n    \"GARBAGE\":\"GARBAGE\",\n    \"PROFILE\":\"PROFILE\",\n    \"REPORTS\":\"REPORTS\",\n    \"SHARED_WITH_ME\":\"SHARED_WITH_ME\",\n    \"COLLECTIONS\":\"COLLECTIONS\",\n    \"CREATOR\":\"CREATOR\",\n    \"CREATE_COLLECTION\":\"CREATE_COLLECTION\",\n    \"CREATE_ATLAS\":\"CREATE_ATLAS\",\n    \"CREATE_REPORT\":\"CREATE_REPORT\",\n    \"CREATE_DATA\":\"CREATE_DATA\",\n    \"ADMIN_PERMISSIONS\":\"ADMIN_PERMISSIONS\",\n    \"ADMIN_ROLES\":\"ADMIN_ROLES\",\n    \"ADMIN_TAGS\":\"ADMIN_TAGS\",\n    \"ADMIN\":\"ADMIN\",\n    \"SIGNUP\":\"SIGNUP\",\n    \"VIEW_APPLICATION\":\"VIEW_APPLICATION\",\n    \"PAYMENT_SETTINGS\":\"PAYMENT_SETTINGS\"\n  }\n  */\n\n};\nvar ANON_USER = {\n  id: '5d4858873a75ba001db8de2c',\n  token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZDQ4NTg4NzNhNzViYTAwMWRiOGRlMmMiLCJlbWFpbCI6ImFub25AMjNkZWdyZWVzLmlvIiwic2x1ZyI6ImFub255bW91cy0xIiwicm9sZXMiOlsiNWQ0OGFiYzU4MzE4NmMwMDFlZjZjNzhlIl0sImV4cCI6MTU5NjE4MDk3MCwiaWF0IjoxNTY1MDc2OTcwfQ.pvBKkmYcM4XjsOX-CfFSrngDX0nTzc8N2754kC0X0J0'\n};\n\n\n//# sourceURL=webpack://shared-code/./src/config/permissions.js?");

/***/ }),

/***/ "./src/content/layout.js":
/*!*******************************!*\
  !*** ./src/content/layout.js ***!
  \*******************************/
/*! exports provided: createLayoutObject, getLayoutChildObjects, createAtlasLayout, createVisualLayout, validateLayout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createLayoutObject\", function() { return createLayoutObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLayoutChildObjects\", function() { return getLayoutChildObjects; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createAtlasLayout\", function() { return createAtlasLayout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createVisualLayout\", function() { return createVisualLayout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateLayout\", function() { return validateLayout; });\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid/v4 */ \"./node_modules/uuid/v4.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./style */ \"./src/content/style.js\");\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities */ \"./src/utilities.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n/**\n * WARNING - DO NOT TOUCH\n *\n * ALL THE FUNCTIONS ARE USED MULTIPLE TIMES IN CONTENT VALIDATOR !\n *\n * DO NOT TOUCH WITHOUT TALKING TO EVERYBODY\n *\n * WHEN CHANGING GENERATED VERSION PATCH TAGESSCHAU HACKS IN CONTENT VALIDATOR!\n *\n */\n\nvar getLayoutChildObjects = function getLayoutChildObjects(layout) {\n  return layout.children.reduce(function (acc, obj) {\n    return acc.concat(obj, getLayoutChildObjects(obj));\n  }, []);\n};\n\nvar validateLayout = function validateLayout(obj) {\n  var _arr = Object.keys(obj.layouts);\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var key = _arr[_i];\n    var layout = obj.layouts[key];\n    layout.version = layout.version !== undefined ? layout.version : 1;\n    layout.autoGenerated = layout.hasOwnProperty('autoGenerated') ? layout.autoGenerated : false;\n\n    if (layout.version === 1) {\n      var _childObjects = getLayoutChildObjects(layout);\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _childObjects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var child = _step.value;\n\n          if (['root', 'container'].includes(child.type)) {\n            // backup\n            var oldId = child.id;\n            var style = Object(_utilities__WEBPACK_IMPORTED_MODULE_2__[\"cloneObject\"])(child.containerStyle); // delete\n\n            delete child.containerStyle;\n            delete child.containerPosition;\n            delete child.userEditable; // apply\n\n            child.id = uuid_v4__WEBPACK_IMPORTED_MODULE_0___default()();\n            child.type = 'container';\n            child.style = style;\n            if (child.style.position === undefined) child.style.position = 'initial';\n            if (child.style.zIndex === undefined) child.style.zIndex = 1;\n            if (oldId === 'content') child.style.zIndex = 0;\n          }\n\n          if (child.type === 'element') {\n            // backup\n            var _oldId = child.id;\n\n            var _style = Object(_utilities__WEBPACK_IMPORTED_MODULE_2__[\"cloneObject\"])(child.elementStyle); // delete\n\n\n            delete child.elementStyle; // apply\n\n            child.id = uuid_v4__WEBPACK_IMPORTED_MODULE_0___default()();\n            child.type = _oldId;\n            if (child.type === 'viselement') child.type = 'content-selector';\n            child.style = _style;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      layout.version = 2;\n    }\n\n    if (layout.version === 2) {\n      var _childObjects2 = getLayoutChildObjects(layout);\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = _childObjects2[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _child = _step2.value;\n\n          if (['container'].includes(_child.type)) {\n            if (_child.style.background === undefined) _child.style.background = {\n              backgroundColor: 'rgba(0, 0, 0, 0)'\n            };\n          }\n\n          if (['container', 'root'].includes(_child.type)) {\n            if (_child.style.position !== 'absolute' && _child.style.zIndex === 1) _child.style.zIndex = 'auto';\n          }\n        } // fix atlas bug\n\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      if (layout.children[1].children[0].label === 'Left') {\n        var containerStyle = {\n          flexDirection: 'column',\n          alignItems: 'normal',\n          zIndex: 'auto'\n        };\n        var containerContent = createLayoutObject('container', 'Content', _objectSpread({}, containerStyle, {\n          flexGrow: 1,\n          position: 'relative'\n        }));\n        var elementContentSelector = createLayoutObject('content-selector', 'Content Selector', {\n          flexGrow: 1\n        });\n        var rowContentContainer = createLayoutObject('container', 'Row', {\n          position: 'absolute',\n          width: '100%',\n          height: '100%',\n          flexDirection: 'column'\n        });\n        var rowContent1 = createLayoutObject('container', 'Row');\n        rowContentContainer.children.push(rowContent1);\n        containerContent.children.push(elementContentSelector, rowContentContainer);\n        layout.children[1] = containerContent;\n      } //layout.version = 3;\n\n    } //cause of backward hacks start with a new layout Version variable Ignore\n    //everything above!\n\n\n    if (!layout.layoutVersion) {\n      layout.layoutVersion = 1;\n    }\n\n    if (layout.layoutVersion < 2) {\n      //add map attirbutions one time effect if you change it\n      //afterwards in editor it will get into this state\n      if (layout.children[1].children[1].children.length === 3 && layout.children[1].children[1].children[2].children.length === 0) {\n        var mapAttributions = createLayoutObject('map-attributions', 'Map Attributions');\n        layout.children[1].children[1].children[2].style.justifyContent = 'flex-end';\n        layout.children[1].children[1].children[2].children.push(mapAttributions);\n      }\n\n      layout.layoutVersion = 2;\n    } //always validate this\n\n\n    var childObjects = getLayoutChildObjects(layout);\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n      for (var _iterator3 = childObjects[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n        var _child2 = _step3.value;\n\n        if (_child2.type === 'container' && _child2.style.position === 'absolute') {\n          _child2.style.top = 0;\n        }\n      }\n    } catch (err) {\n      _didIteratorError3 = true;\n      _iteratorError3 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n          _iterator3.return();\n        }\n      } finally {\n        if (_didIteratorError3) {\n          throw _iteratorError3;\n        }\n      }\n    }\n  }\n\n  return obj;\n};\n\nvar createLayoutObject = function createLayoutObject(type, label) {\n  var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var obj = {\n    id: uuid_v4__WEBPACK_IMPORTED_MODULE_0___default()(),\n    // random generated id\n    type: type,\n    // root | container | menu | button | ...\n    label: label,\n    children: [],\n    options: {},\n    style: {\n      flexGrow: 0 // 0 | 1\n\n    }\n  };\n\n  if (type === 'container') {\n    obj.style = Object.assign(obj.style, {\n      flexDirection: 'row',\n      // column | row\n      justifyContent: 'space-between',\n      // normal | left | flex-start | right | flex-end | space-between | space-around | space-evenly\n      alignItems: 'normal',\n      // normal | flex-start | flex-end | center\n      position: 'initial',\n      // initial | relative | absolute\n      zIndex: 'auto',\n      background: {\n        backgroundColor: 'rgba(0, 0, 0, 0)' // @hedata: ADDED BACKGROUND OPTIONS FOR CONTAINER ROW\n\n      }\n    });\n    obj.options = Object.assign(obj.options, {\n      margin: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(),\n      padding: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])()\n    });\n  }\n\n  if (type === 'button') {\n    // cloneObject those or we have funny linked stuff going on..\n    var buttonMargin = Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(5, 'px', 5, 'px', 5, 'px', 5, 'px');\n    var buttonPadding = Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(2, 'px', 5, 'px', 2, 'px', 5, 'px');\n    obj.options = Object.assign(obj.options, {\n      action: 'menu',\n      icon: 'menu',\n      iconPosition: 'left',\n      borderRadius: 100,\n      text: '',\n      font: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getExtendedFormatObject\"])(12, undefined, undefined, '#000000', undefined, undefined, Object(_utilities__WEBPACK_IMPORTED_MODULE_2__[\"cloneObject\"])(buttonPadding), Object(_utilities__WEBPACK_IMPORTED_MODULE_2__[\"cloneObject\"])(buttonMargin)),\n      textMargin: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(undefined, undefined, undefined, undefined, undefined, undefined, 5, 'px'),\n      background: {\n        backgroundColor: 'rgba(0, 0, 0, 0)'\n      },\n      boxShadow: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatShadowObject\"])(0, 0, 0, 0, 'rgba(0, 0, 0, 0)'),\n      hoverText: '',\n      hoverFont: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getExtendedFormatObject\"])(12, undefined, undefined, '#ffffff', undefined, undefined, Object(_utilities__WEBPACK_IMPORTED_MODULE_2__[\"cloneObject\"])(buttonPadding), Object(_utilities__WEBPACK_IMPORTED_MODULE_2__[\"cloneObject\"])(buttonMargin)),\n      hoverBackground: {\n        backgroundColor: 'rgba(0, 0, 0, 0.2)'\n      },\n      hoverBoxShadow: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatShadowObject\"])(0, 0, 3, 0, 'rgba(0, 0, 0, 0.4)')\n    });\n  }\n\n  if (type === 'logo') {\n    obj.options = Object.assign(obj.options, {\n      width: 32,\n      height: 32,\n      borderRadius: 0,\n      margin: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(),\n      padding: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(),\n      boxShadow: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatShadowObject\"])(0, 0, 0, 0, 'rgba(0, 0, 0, 0)')\n    });\n  }\n\n  if (type === 'map-legend') {\n    obj.options = Object.assign(obj.options, {\n      borderRadius: 100,\n      margin: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(10, 'px', 10, 'px', 10, 'px', 10, 'px'),\n      padding: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(),\n      boxShadow: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatShadowObject\"])(0, 0, 0, 0, 'rgba(0, 0, 0, 0)')\n    });\n  }\n\n  if (type === 'map-attributions') {\n    obj.options = Object.assign(obj.options, {\n      font: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getExtendedFormatObject\"])(9, undefined, undefined, '#000000')\n    });\n  }\n\n  if (type === 'search') {\n    obj.options = Object.assign(obj.options, {\n      borderRadius: 100,\n      margin: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(10, 'px', 10, 'px', 10, 'px', 10, 'px'),\n      padding: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(),\n      boxShadow: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatShadowObject\"])(0, 0, 0, 0, 'rgba(0, 0, 0, 0)')\n    });\n  }\n\n  if (type === 'menu') {\n    obj.options = Object.assign(obj.options, {\n      startOpen: false,\n      type: 'full',\n      // full, drawer, swiper\n      position: 'left',\n      // drawer: left right, swiper: top bottom\n      overlayType: 'push',\n      // swiper: overlay | push, maybe also for drawer\n      children: {\n        showIcons: false,\n        showImages: true,\n        alignment: 'center'\n      },\n      style: {\n        title: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getExtendedFormatObject\"])(),\n        subTitle: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getExtendedFormatObject\"])(),\n        background: {\n          backgroundColor: 'rgba(255, 255, 255, 1)'\n        },\n        margin: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(),\n        pagination: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getExtendedFormatObject\"])(),\n        padding: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(),\n        children: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getExtendedFormatObject\"])(undefined, undefined, undefined, undefined, undefined, undefined, Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(10, 'px', 10, 'px', 10, 'px', 10, 'px')),\n        boxShadow: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatShadowObject\"])(0, 2, 25, 0, 'rgba(0, 0, 0, 0.2)'),\n        images: {\n          width: {\n            desktop: {\n              value: 20,\n              unit: '%'\n            },\n            mobile: {\n              value: 33,\n              unit: '%'\n            }\n          },\n          padding: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(),\n          margin: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatMarginPaddingObject\"])(undefined, undefined, 15, 'px', undefined, undefined, 5, 'px'),\n          boxShadow: Object(_style__WEBPACK_IMPORTED_MODULE_1__[\"getFormatShadowObject\"])(0, 4, 7, 0, 'rgba(0,0,0,0.2)')\n        },\n        drawer: {\n          size: {\n            value: 30,\n            unit: '%'\n          }\n        },\n        swiper: {\n          size: {\n            value: 200,\n            unit: 'px'\n          }\n        }\n      }\n    });\n  }\n\n  obj.style = Object.assign(obj.style, style);\n  return obj;\n};\n\nvar createAtlasLayout = function createAtlasLayout(content) {\n  var type = content.type,\n      typeSpecific = content.typeSpecific; // root container\n\n  var containerStyle = {\n    flexDirection: 'column',\n    alignItems: 'normal',\n    zIndex: 'auto'\n  };\n  var containerHeader = createLayoutObject('container', 'Header', _objectSpread({}, containerStyle));\n  var containerContent = createLayoutObject('container', 'Content', _objectSpread({}, containerStyle, {\n    flexGrow: 1,\n    position: 'relative'\n  }));\n  var containerFooter = createLayoutObject('container', 'Footer', _objectSpread({}, containerStyle)); // rows\n\n  var rowHeader1 = createLayoutObject('container', 'Row', {\n    alignItems: 'center'\n  });\n  var rowHeader2 = createLayoutObject('container', 'Row', {\n    alignItems: 'center'\n  });\n  var rowHeader3 = createLayoutObject('container', 'Row');\n  var rowContentContainer = createLayoutObject('container', 'Row', {\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n    flexDirection: 'column'\n  });\n  var rowContent1 = createLayoutObject('container', 'Row');\n  var rowFooter1 = createLayoutObject('container', 'Row', {\n    alignItems: 'center'\n  });\n  var rowFooter2 = createLayoutObject('container', 'Row'); // elements\n\n  var elementTitle = createLayoutObject('title', 'Title', {\n    flexGrow: 1\n  });\n  var elementSubtitle = createLayoutObject('subTitle', 'Subtitle', {\n    flexGrow: 1\n  });\n  var elementButtonMenu = createLayoutObject('button', 'Button');\n  elementButtonMenu.options.action = 'menu';\n  elementButtonMenu.options.icon = 'menu';\n  var elementButtonPrev = createLayoutObject('button', 'Button');\n  elementButtonPrev.options.action = 'prev';\n  elementButtonPrev.options.icon = 'chevron-left';\n  var elementButtonNext = createLayoutObject('button', 'Button');\n  elementButtonNext.options.action = 'next';\n  elementButtonNext.options.icon = 'chevron-right';\n  var elementMenu = createLayoutObject('menu', 'Menu');\n  elementMenu.options.style.title = Object(_utilities__WEBPACK_IMPORTED_MODULE_2__[\"cloneObject\"])(typeSpecific.style.title);\n  elementMenu.options.style.subTitle = Object(_utilities__WEBPACK_IMPORTED_MODULE_2__[\"cloneObject\"])(typeSpecific.style.subTitle); // If we want to space out the default left menu button\n\n  elementMenu.options.style.title.padding.left = 36;\n  elementMenu.options.style.title.padding.right = 36;\n  elementMenu.options.style.title.padding.top = 5;\n  elementMenu.options.style.subTitle.padding.left = 5;\n  elementMenu.options.style.subTitle.padding.right = 5; // visual\n\n  var elementContentSelector = createLayoutObject('content-selector', 'Content Selector', {\n    flexGrow: 1\n  });\n\n  if (typeSpecific.atlas.showBurger && typeSpecific.atlas.showNext) {\n    if (content.injected) {\n      rowHeader1.children.push(elementButtonMenu, elementTitle, elementButtonPrev, elementButtonNext);\n    } else {\n      rowHeader1.children.push(elementButtonMenu, elementTitle, elementButtonNext);\n    }\n  }\n\n  if (typeSpecific.atlas.showBurger && !typeSpecific.atlas.showNext) {\n    rowHeader1.children.push(elementTitle, elementButtonMenu);\n  }\n\n  if (!typeSpecific.atlas.showBurger && typeSpecific.atlas.showNext) {\n    rowHeader1.children.push(elementTitle, elementButtonNext);\n  }\n\n  rowHeader2.children.push(elementSubtitle);\n  rowFooter1.children.push(elementMenu);\n  rowContentContainer.children.push(rowContent1);\n  containerHeader.children.push(rowHeader1, rowHeader2, rowHeader3);\n  containerContent.children.push(elementContentSelector, rowContentContainer);\n  containerFooter.children.push(rowFooter1, rowFooter2);\n  var layout = {\n    active: 'default',\n    layouts: {\n      default: {\n        version: 2,\n        autoGenerated: true,\n        id: 'default',\n        label: 'Default Layout',\n        children: [containerHeader, containerContent, containerFooter]\n      }\n    }\n  };\n  return layout;\n};\n\nvar createVisualLayout = function createVisualLayout(content) {\n  var type = content.type,\n      typeSpecific = content.typeSpecific; // root container\n\n  var containerStyle = {\n    flexDirection: 'column',\n    alignItems: 'normal',\n    zIndex: 'auto'\n  };\n  var containerHeader = createLayoutObject('container', 'Header', _objectSpread({}, containerStyle));\n  var containerContent = createLayoutObject('container', 'Content', _objectSpread({}, containerStyle, {\n    flexGrow: 1,\n    position: 'relative'\n  }));\n  var containerFooter = createLayoutObject('container', 'Footer', _objectSpread({}, containerStyle)); // rows\n\n  var rowHeader1 = createLayoutObject('container', 'Row');\n  var rowHeader2 = createLayoutObject('container', 'Row');\n  var rowHeader3 = createLayoutObject('container', 'Row');\n  var rowHeader4 = createLayoutObject('container', 'Row');\n  var rowHeader5 = createLayoutObject('container', 'Row');\n  var rowContentContainer = createLayoutObject('container', 'Row', {\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n    flexDirection: 'column',\n    zIndex: 0\n  });\n  var rowContent1 = createLayoutObject('container', 'Row');\n  var rowContent2 = createLayoutObject('container', 'Row');\n  var rowContent3 = createLayoutObject('container', 'Row');\n  var rowFooter1 = createLayoutObject('container', 'Row', {\n    bottom: 0,\n    alignItems: 'center'\n  });\n  var rowFooter2 = createLayoutObject('container', 'Row', {\n    bottom: 0\n  }); // elements\n\n  var elementTitle = createLayoutObject('title', 'Title', {\n    flexGrow: 1\n  });\n  var elementSubtitle = createLayoutObject('subTitle', 'Subtitle', {\n    flexGrow: 1\n  });\n  var elementFilter = createLayoutObject('filter', 'Filter', {\n    flexGrow: 1\n  });\n  var elementLegend = createLayoutObject('legend', 'Chart Legend', {\n    flexGrow: 1\n  });\n  var elementMapLegend = createLayoutObject('map-legend', 'Map Legend');\n  var elementMapSearch = createLayoutObject('search', 'Map Search');\n  var elementLogo = createLayoutObject('logo', 'Logo');\n  var elementSource = createLayoutObject('source', 'Source');\n  var elementButtonInfo = createLayoutObject('button', 'Button');\n  elementButtonInfo.options.action = 'overlay';\n  elementButtonInfo.options.icon = 'info-1'; // visual\n\n  var elementVisual = createLayoutObject('visual', 'Visual', {\n    flexGrow: 1\n  });\n  var elementVisualOverlay = createLayoutObject('overlay', 'Overlay', {\n    flexGrow: 1\n  });\n  rowHeader1.children.push(elementTitle);\n  rowHeader2.children.push(elementSubtitle);\n  rowHeader3.children.push(elementFilter);\n  rowHeader4.children.push(elementLegend); // row Cotent 1 -> subRow\n\n  var subRowContent = createLayoutObject('container', 'Subrow', {\n    flexDirection: 'column'\n  });\n  subRowContent.children.push(elementMapSearch);\n  subRowContent.children.push(elementMapLegend);\n  rowContent1.children.push(subRowContent); // map Specific parts\n  // rowContent1.children.push(elementMapSearch);\n  // rowContent3.children.push(elementMapLegend);\n\n  rowFooter1.children.push(elementLogo, elementSource, elementButtonInfo);\n  rowContentContainer.children.push(rowContent1, rowContent2, rowContent3);\n  containerHeader.children.push(rowHeader1, rowHeader2, rowHeader3, rowHeader4, rowHeader5);\n  containerContent.children.push(elementVisual, rowContentContainer, elementVisualOverlay);\n  containerFooter.children.push(rowFooter1, rowFooter2);\n  var layout = {\n    active: 'default',\n    layouts: {\n      default: {\n        version: 2,\n        autoGenerated: true,\n        id: 'default',\n        label: 'Default Layout',\n        children: [containerHeader, containerContent, containerFooter]\n      }\n    }\n  };\n  return layout;\n};\n\n\n\n//# sourceURL=webpack://shared-code/./src/content/layout.js?");

/***/ }),

/***/ "./src/content/style.js":
/*!******************************!*\
  !*** ./src/content/style.js ***!
  \******************************/
/*! exports provided: getFormatObject, getExtendedFormatObject, getFormatShadowObject, getFormatLineHeightObject, getFormatMarginPaddingObject, convertFormatToExtendedFormat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFormatObject\", function() { return getFormatObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getExtendedFormatObject\", function() { return getExtendedFormatObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFormatShadowObject\", function() { return getFormatShadowObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFormatLineHeightObject\", function() { return getFormatLineHeightObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFormatMarginPaddingObject\", function() { return getFormatMarginPaddingObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"convertFormatToExtendedFormat\", function() { return convertFormatToExtendedFormat; });\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities */ \"./src/utilities.js\");\n\n/**\n * WARNING - DO NOT TOUCH\n *\n * ALL THE FUNCTIONS ARE USED MULTIPLE TIMES IN CONTENT VALIDATOR !\n *\n * DO NOT TOUCH WITHOUT TALKING TO EVERYBODY\n *\n */\n\nvar getFormatObject = function getFormatObject() {\n  var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 12;\n  var weight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '300';\n  var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'left';\n  var color = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '#000000';\n  return {\n    enabled: true,\n    position: position,\n    size: size,\n    weight: String(weight),\n    color: color,\n    fontFamily: \"'Work Sans', sans-serif\",\n    letterSpacing: 0\n  };\n};\n\nvar getFormatShadowObject = function getFormatShadowObject() {\n  var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var blur = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var spread = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var color = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 'transparent';\n  return {\n    x: x,\n    y: y,\n    blur: blur,\n    spread: spread,\n    color: color\n  };\n};\n\nvar getFormatLineHeightObject = function getFormatLineHeightObject() {\n  var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1.2;\n  var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'em';\n  return {\n    value: value,\n    unit: unit\n  };\n};\n\nvar getFormatMarginPaddingObject = function getFormatMarginPaddingObject() {\n  var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var topUnit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'px';\n  var right = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var rightUnit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'px';\n  var bottom = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var bottomUnit = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'px';\n  var left = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;\n  var leftUnit = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : 'px';\n  return {\n    top: top,\n    right: right,\n    topUnit: topUnit,\n    bottom: bottom,\n    left: left,\n    rightUnit: rightUnit,\n    bottomUnit: bottomUnit,\n    leftUnit: leftUnit\n  };\n};\n\nvar getExtendedFormatObject = function getExtendedFormatObject(size, weight, position, color, shadow, lineheight, padding, margin) {\n  var format = getFormatObject(size, weight, position, color);\n  format['shadow'] = shadow ? shadow : getFormatShadowObject();\n  format['lineheight'] = lineheight ? lineheight : getFormatLineHeightObject();\n  format['margin'] = margin ? margin : getFormatMarginPaddingObject();\n  format['padding'] = padding ? padding : getFormatMarginPaddingObject();\n  return format;\n};\n\nvar convertFormatToExtendedFormat = function convertFormatToExtendedFormat(format, extendedFormat) {\n  format.enabled = format.hasOwnProperty('enabled') ? format.enabled : true;\n  format.position = format.hasOwnProperty('position') ? format.position : 'left';\n  format.size = format.hasOwnProperty('size') ? format.size : 12;\n  format.weight = format.hasOwnProperty('weight') ? String(format.weight) : '300';\n  format.color = format.hasOwnProperty('color') ? format.color : '#000000';\n  format.fontFamily = format.hasOwnProperty('fontFamily') ? format.fontFamily : \"'Work Sans', sans-serif\";\n  format.letterSpacing = format.hasOwnProperty('letterSpacing') ? format.letterSpacing : 0;\n  format.shadow = format.shadow || Object(_utilities__WEBPACK_IMPORTED_MODULE_0__[\"cloneObject\"])(extendedFormat.shadow);\n  format.margin = format.margin || Object(_utilities__WEBPACK_IMPORTED_MODULE_0__[\"cloneObject\"])(extendedFormat.margin);\n  format.padding = format.padding || Object(_utilities__WEBPACK_IMPORTED_MODULE_0__[\"cloneObject\"])(extendedFormat.padding);\n  format.lineheight = format.lineheight || Object(_utilities__WEBPACK_IMPORTED_MODULE_0__[\"cloneObject\"])(extendedFormat.lineheight);\n  return format;\n};\n\n\n\n//# sourceURL=webpack://shared-code/./src/content/style.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: magicExport, environment, updateEnvironment, utilities, layout, style, middleware, PERMISSIONS, ANON_USER */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"magicExport\", function() { return magicExport; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"environment\", function() { return environment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateEnvironment\", function() { return updateEnvironment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"middleware\", function() { return middleware; });\n/* harmony import */ var _config_environment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config/environment */ \"./src/config/environment.js\");\n/* harmony import */ var _config_permissions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config/permissions */ \"./src/config/permissions.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PERMISSIONS\", function() { return _config_permissions__WEBPACK_IMPORTED_MODULE_1__[\"PERMISSIONS\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ANON_USER\", function() { return _config_permissions__WEBPACK_IMPORTED_MODULE_1__[\"ANON_USER\"]; });\n\n/* harmony import */ var _middleware_inject_permissions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./middleware/inject-permissions */ \"./src/middleware/inject-permissions.js\");\n/* harmony import */ var _middleware_secure_by_permission__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./middleware/secure-by-permission */ \"./src/middleware/secure-by-permission.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid/v4 */ \"./node_modules/uuid/v4.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utilities */ \"./src/utilities.js\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"utilities\", function() { return _utilities__WEBPACK_IMPORTED_MODULE_5__; });\n/* harmony import */ var _content_layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./content/layout */ \"./src/content/layout.js\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"layout\", function() { return _content_layout__WEBPACK_IMPORTED_MODULE_6__; });\n/* harmony import */ var _content_style__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./content/style */ \"./src/content/style.js\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"style\", function() { return _content_style__WEBPACK_IMPORTED_MODULE_7__; });\n\n\n\n // Webpack somehow requires proper objects ..\n\nvar environment = {\n  URL: 'http://localhost',\n  PORT: 2385,\n  NODE_ENV: 'production',\n  SSL: 'nossl',\n  ACCESS_CONTROL_URL: 'LOLCAKE'\n};\nObject(_config_environment__WEBPACK_IMPORTED_MODULE_0__[\"setEnv\"])(environment);\n\nvar updateEnvironment = function updateEnvironment(config) {\n  var fetch = config.fetch,\n      env = config.env;\n  console.log('[updateEnvironment] - In shared-code');\n  Object(_config_environment__WEBPACK_IMPORTED_MODULE_0__[\"updateEnv\"])(environment, env);\n  Object(_config_environment__WEBPACK_IMPORTED_MODULE_0__[\"setFetch\"])(fetch);\n};\n\n // import fetch from 'node-fetch';\n\n\n\n\n\nvar magicExport = function magicExport() {\n  var id = uuid_v4__WEBPACK_IMPORTED_MODULE_4___default()();\n  console.log('[SharedCode]', '>>>', id); // fetch('https://google.com');\n};\n\nvar middleware = {\n  injectPermissions: _middleware_inject_permissions__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  secureByPermission: _middleware_secure_by_permission__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n};\n\n\n//# sourceURL=webpack://shared-code/./src/index.js?");

/***/ }),

/***/ "./src/middleware/inject-permissions.js":
/*!**********************************************!*\
  !*** ./src/middleware/inject-permissions.js ***!
  \**********************************************/
/*! exports provided: default, injectPermissions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"injectPermissions\", function() { return injectPermissions; });\n/* harmony import */ var _config_environment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/environment */ \"./src/config/environment.js\");\n// import fetch from 'cross-fetch';\n\n/**\n * Add permissions to user\n * @param {*} req\n * @param {*} res\n * @param {*} next\n */\n\nvar injectPermissions = function injectPermissions(req, res, next) {\n  //console.log(\">>>\", environment.ACCESS_CONTROL_URL);\n  // try {\n  //   let permissions = await fetch(\n  //     `${environment.ACCESS_CONTROL_URL}/users/permissions/${req.payload._id}`\n  //   );\n  //   req.payload.permissions = await permissions.json();\n  //   // console.log('[middlewares][injectPermissions]', req.payload);\n  // } catch (error) {}\n  next();\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (injectPermissions);\n\n\n//# sourceURL=webpack://shared-code/./src/middleware/inject-permissions.js?");

/***/ }),

/***/ "./src/middleware/secure-by-permission.js":
/*!************************************************!*\
  !*** ./src/middleware/secure-by-permission.js ***!
  \************************************************/
/*! exports provided: default, secureByPermission */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"secureByPermission\", function() { return secureByPermission; });\n/* harmony import */ var _config_environment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/environment */ \"./src/config/environment.js\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\nvar permissionError = function permissionError(res, message) {\n  var errorMessage = message || 'Permission not granted, message undefined';\n  console.error('[middleware][rbac][PermissionError]', errorMessage);\n  res.status(401).send({\n    message: errorMessage\n  });\n};\n\nvar secureByPermission = function secureByPermission(permission) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(req, res, next) {\n        var user, permissions, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                user = JSON.parse(req.get('injecteduser')); // Check if a permission is set\n\n                if (permission) {\n                  _context.next = 4;\n                  break;\n                }\n\n                permissionError(res, 'Permission not defined');\n                return _context.abrupt(\"return\");\n\n              case 4:\n                permissions = [];\n                _context.prev = 5;\n                console.log('[secureByPermissions]', {\n                  url: \"\".concat(_config_environment__WEBPACK_IMPORTED_MODULE_0__[\"environment\"].ACCESS_CONTROL_URL, \"/users/permissions/\").concat(user._id)\n                });\n                _context.next = 9;\n                return Object(_config_environment__WEBPACK_IMPORTED_MODULE_0__[\"fetch\"])(\"\".concat(_config_environment__WEBPACK_IMPORTED_MODULE_0__[\"environment\"].ACCESS_CONTROL_URL, \"/users/permissions/\").concat(user._id));\n\n              case 9:\n                response = _context.sent;\n                _context.next = 12;\n                return response.json();\n\n              case 12:\n                permissions = _context.sent;\n                _context.next = 20;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](5);\n                console.log('<<<<<<<<<<<<<<<<< ERROR', _context.t0);\n                permissionError(res, \"Couldnt set permissions for user: \".concat(JSON.stringify(_context.t0)));\n                return _context.abrupt(\"return\");\n\n              case 20:\n                if (!(permissions.findIndex(function (userPermission) {\n                  return userPermission.resource === permission;\n                }) > -1)) {\n                  _context.next = 24;\n                  break;\n                }\n\n                next();\n                _context.next = 26;\n                break;\n\n              case 24:\n                permissionError(res, 'User not permitted');\n                return _context.abrupt(\"return\");\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[5, 15]]);\n      }));\n\n      return function (_x, _x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (secureByPermission);\n\n\n//# sourceURL=webpack://shared-code/./src/middleware/secure-by-permission.js?");

/***/ }),

/***/ "./src/utilities.js":
/*!**************************!*\
  !*** ./src/utilities.js ***!
  \**************************/
/*! exports provided: isObject, cloneObject, unique, sleep, sleepWith, groupBy, roundTo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isObject\", function() { return isObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneObject\", function() { return cloneObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unique\", function() { return unique; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sleep\", function() { return sleep; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sleepWith\", function() { return sleepWith; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"groupBy\", function() { return groupBy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"roundTo\", function() { return roundTo; });\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar isObject = function isObject(obj) {\n  return _typeof(obj) === 'object' && !Array.isArray(obj) && obj !== null;\n};\n\nvar cloneObject = function cloneObject(obj) {\n  return JSON.parse(JSON.stringify(obj));\n};\n\nvar unique = function unique(arr) {\n  return _toConsumableArray(new Set(arr));\n};\n\nvar sleep = function sleep(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n};\n\nvar sleepWith = function sleepWith(data, ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(function () {\n      return resolve(data);\n    }, ms);\n  });\n};\n\nvar groupBy = function groupBy(xs, key) {\n  return xs.reduce(function (rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n\nvar roundTo = function roundTo(num) {\n  var digits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  return Math.round(num * Math.pow(10, digits)) / Math.pow(10, digits);\n};\n\n\n\n//# sourceURL=webpack://shared-code/./src/utilities.js?");

/***/ }),

/***/ 0:
/*!*************************!*\
  !*** multi ./src/index ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ./src/index */\"./src/index.js\");\n\n\n//# sourceURL=webpack://shared-code/multi_./src/index?");

/***/ })

/******/ });
});